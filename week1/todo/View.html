<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Todos</title>
    <link rel="stylesheet" href="../todo.css">
    <link rel="stylesheet" href="../module/notify.css">

</head>
<body>
<audio id="fortuneAudio">
    <source src="../module/fortuneSound.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<main>
    <div id="notify"><p id="message">message</p></div>

    <h1>Todo List</h1>

    <div class="holder">
        <button id="plus" autofocus onclick="todoController.addTodo();"> +</button>
        <button id="fortune" onclick="todoController.addFortuneTodo();"> fortune!</button>

        <div class="table" id="todoContainer"></div>

        <div>Tasks: <span id="numberOfTasks">0</span></div>
        <div>Open: <span id="openTasks">0</span></div>


        <ul id="allObs"></ul>
    </div>

</main>

<ul id="bgTodos">
</ul>


<script src="../observable/observable.js"></script>
<script src="../dataflow/dataflow.js"></script>
<script src="fortuneService.js"></script>

<script src="../module/notify.js"></script>
<script src="todo.js"></script>
<script>
    console.log("Start");
    const todoController = TodoController();

    TodoItemsView(todoController, document.getElementById('todoContainer'));
    TodoTotalView(todoController, document.getElementById('numberOfTasks'));
    TodoOpenView(todoController, document.getElementById('openTasks'));
    TodoItemsList(todoController, document.getElementById('bgTodos'));

    // TodoItemsList(todoController , document.getElementById('allObs'));

    todoController.addTodo();

    document.addEventListener("keydown", key => {
        console.log(key.keyCode);
        if(key.keyCode === 9){
           const allTodo = document.getElementById('todoContainer')
            console.log(allTodo.childNodes)
            // const allInput = allTodo.filter(e => e.childNodes[0].type = "text")
            // console.log(allInput)

        }
    });


    const fortune = document.getElementById("fortune");
    const audio = document.getElementById("fortuneAudio");
    fortune.addEventListener("click", () => audio.play());

</script>

</body>

</html>
